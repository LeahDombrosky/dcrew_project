<nav-component> </nav-component>

<div class="product-page-body container">

    <header class="breadcrumbs container">
        <a href="/#/">Home</a> >
        <a href=>{{product.name}}</a>

    </header>



    <div class="image-wrapper col-md-6 col-sm-6 col-xs-6">

        <div class="slider slider-for">

            <img ng-src={{product.img1}}>
            <img ng-src={{product.img2}}>
            <img ng-src={{product.img3}}>
        </div>

        <div class="slider slider-nav">

            <img ng-src={{product.img1}}>
            <img ng-src={{product.img2}}>
            <img ng-src={{product.img3}}>
            <!-- <img ng-src={{product.img4}}> -->

        </div>

    </div>



    <section class="main-product-info col-md-6 col-sm-6 col-xs-6">
        <h2 class='product-name'>{{product.name}}</h2>
        <h3>{{product.price | currency}}</h3>
        <!-- stars start -->
        <div class="row">
            <div class="col-md-3 col-sm-3 stars">
                <span class="sr-only">Four out of Five Stars</span>
                <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>
                <!-- <span class="label label-success">61</span> -->
            </div>
            <!-- <div class="col-md-3">
      <span class="monospaced">Write a Review</span>
     </div> -->
        </div>
        <!-- end row -->

        <!-- stats end  -->
        <div class="status">
            In Stock
        </div>

        <p class='productDescription_color'>Color: {{product.color}}</p>


        <p class='productDescription_head'>Description</p>
        <p class='productDescription_text'>
            {{product.description}}
        </p>
        <div class="buttons">
            <h5>Quantity</h5>
            <form class="quantity">
                <input type='button' value='-' class='qtyminus' field='quantity' />
                <input type='text' name='quantity' value='1' class='qty' />
                <input type='button' value='+' class='qtyplus' field='quantity' />
            </form>

            <!-- NG click add to bag  in productsCtrl-->
            <button class='add-to-bag' ng-click="addToBag(product)">Add To Bag</button>

            <!-- Review and Tabs-->
            <div class="row">
                <div class="col-md-12">
                    <form name="outerForm" class="tab-form-demo">
                        <uib-tabset active="activeForm">
                            <uib-tab index="0" heading="Reviews">
                                <!--REVIEWS TAB -->


                                <div ng-repeat="review in product.reviews" class="review">
                                    <div class="well well-lg">
                                        <h4 class="media-heading text-uppercase reviews">Morty </h4>
                                        <!-- <ul class="media-date text-uppercase reviews list-inline">

                                        </ul> -->
                                        <p class="media-comment">
                                            {{review}}
                                        </p>
                                        <!-- <a class="btn btn-info btn-circle text-uppercase" href="#" id="reply"><span class="glyphicon glyphicon-share-alt"></span> Reply</a>
                                        <a class="btn btn-warning btn-circle text-uppercase" data-toggle="collapse" href="#replyOne"><span class="glyphicon glyphicon-comment"></span> 2 comments</a>
                                    </div> -->
                                    </div>
                                </div>


                                <!-- <div id="rateYo"></div> -->
                                <!-- <ng-form name="nestedForm">
                                    <div class="form-group">
                                        <label>Rick</label>
                                        <input type="text" class="form-control" required ng-model="model.name" />
                                        <label>Morty</label>
                                        <input type="text" class="form-control" required ng-model="model.name" />
                                    </div>
                                </ng-form> -->
                            </uib-tab>
                            <uib-tab index="1" heading="Add Review">


                                <form class="form-horizontal" id="commentForm" role="form">
                                  <div class="form-group">
                                    <!-- TODO:  Convert to stars -->
                                      <label for="addRating" class="col-sm-2 control-label">Rating</label>
                                      <div class="col-sm-10">
                                          <input type="number" min="0" max="5" placeholder="0" ng-model='review.rating' class="form-control" name="addRating" id="addRating" rows="5" />
                                      </div>
                                  </div><div class="form-group">
                                        <label for="email" class="col-sm-2 control-label">Comment</label>
                                        <div class="col-sm-10">
                                            <textarea ng-model='review.comment' class="form-control" name="addComment" id="addComment" rows="5"></textarea>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-sm-offset-2 col-sm-10">
                                            <button ng-click = "submit(product.id, review)" class="btn btn-success btn-circle text-uppercase" type="submit" id="submitComment"><span class="glyphicon glyphicon-send"></span> Submit Review</button>
                                        </div>
                                    </div>
                                </form>



                            </uib-tab>
                            <uib-tab index="2" heading="Notes">
                                Williamsburg iPhone locavore hammock, ennui farm-to-table man braid whatever poke flexitarian selvage. Pinterest wolf gentrify, four dollar toast lyft gluten-free viral unicorn hexagon crucifix subway tile helvetica knausgaard fixie waistcoat. Freegan
                                four loko hot chicken copper mug brooklyn. Poke next level activated charcoal, tacos keffiyeh 3 wolf moon helvetica crucifix sustainable meggings tousled readymade blue bottle occupy. </uib-tab>
                        </uib-tabset>
                    </form>
                    <!-- Model:
                    <pre>{{ model | json }}</pre> Nested Form:
                    <pre>{{ outerForm.nestedForm | json }}</pre> -->
                </div>
            </div>
        </div>
        <!-- end row -->

    </section>
</div>
<div class="alert alert-danger" ng-if="error">Sorry! There was a problem with your cart</div>

<recently-viewed>
</recently-viewed>

<footer-component></footer-component>



<script>
    angular.element(document).ready(function() {
        // $('.product-page-body').slick({});

        setTimeout(function() {


            $('.slider-for').slick({
                slidesToShow: 1,
                slidesToScroll: 1,
                arrows: false,
                fade: true,
                asNavFor: '.slider-nav'
            }).hide().fadeIn('slow');
            $('.slider-nav').slick({
                slidesToShow: 3,
                slidesToScroll: 1,
                asNavFor: '.slider-for',
                // dots: true,
                centerMode: true,
                arrows: true,
                focusOnSelect: true,
                // variableWidth: true
            }).hide().fadeIn('slow');
        }, 500)
    });




    jQuery(document).ready(function() {
        // This button will increment the value
        $('.qtyplus').click(function(e) {
            // Stop acting like a button
            e.preventDefault();
            // Get the field name
            fieldName = $(this).attr('field');
            // Get its current value
            var currentVal = parseInt($('input[name=' + fieldName + ']').val());
            // If is not undefined
            if (!isNaN(currentVal)) {
                // Increment
                $('input[name=' + fieldName + ']').val(currentVal + 1);
            } else {
                // Otherwise put a 0 there
                $('input[name=' + fieldName + ']').val(0);
            }
        });
        // This button will decrement the value till 0
        $(".qtyminus").click(function(e) {
            // Stop acting like a button
            e.preventDefault();
            // Get the field name
            fieldName = $(this).attr('field');
            // Get its current value
            var currentVal = parseInt($('input[name=' + fieldName + ']').val());
            // If it isn't undefined or its greater than 0
            if (!isNaN(currentVal) && currentVal > 0) {
                // Decrement one
                $('input[name=' + fieldName + ']').val(currentVal - 1);
            } else {
                // Otherwise put a 0 there
                $('input[name=' + fieldName + ']').val(0);
            }
        });




        // $("#rateYo").rateYo({
        //
        //     rating: 4.0,
        //     spacing: "5px",
        //     multiColor: {
        //
        //         "startColor": "#FF0000", //RED
        //         "endColor": "#00FF00" //GREEN
        //     }
        // });







    });
</script>
